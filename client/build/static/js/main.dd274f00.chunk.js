(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{43:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(35),s=c.n(n),i=(c(43),c(2)),l=c(4),o=c.n(l),j=c(8),d=c(7),b=c.n(d),h=Object(r.createContext)(),u=c(18),p=c(0),O=function(e){var t,c=e.msg,a=e.page,n=e.btnMsg,s=e.response,l=e.loading,o=void 0!==l&&l,j=e.icon,d=e.cancel,b=e.iconed,h=Object(r.useState)(!1),O=Object(i.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(!1),g=Object(i.a)(f,2),y=g[0],v=g[1],N=Object(r.useState)(!1),C=Object(i.a)(N,2),w=C[0],k=C[1];return o?y?"":(a&&n&&(t=!0),Object(p.jsx)("div",{children:x?"":Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"alert float",style:{flexDirection:"column",justifyContent:"center"},children:[w&&Object(p.jsx)("p",{style:{position:"absolute",top:"31%",textDecoration:"none",fontSize:15,background:"darkred",padding:"0.5rem 0.8rem",color:"white",left:"".concat(66.5,"%"),borderRadius:10},title:"Close",onClick:function(e){d&&(m(!0),window.location.reload(),k())},children:"x"}),t?Object(p.jsxs)("div",{className:"float",style:{flexDirection:"column",justifyContent:"center"},children:[Object(p.jsx)("i",{className:j,style:{fontSize:30,marginBottom:5}}),Object(p.jsx)("h4",{style:{fontSize:16},children:s})]}):Object(p.jsxs)("div",{className:"float",children:[Object(p.jsx)("div",{className:"btn-spinner",style:{width:30,height:30,borderTopColor:"#f1b24a",borderBottomColor:"#15032b"}}),Object(p.jsx)("div",{style:{paddingLeft:10},children:Object(p.jsx)("h4",{style:{fontSize:13},children:c})})]}),t&&Object(p.jsxs)(u.b,{to:"".concat(a),className:"btn",style:{marginTop:20},onClick:function(){return v(!0)},children:[n," ",Object(p.jsx)("i",{className:b,style:{marginLeft:10}})]})]})})})):""},x=function(e){var t=e.errorMsg,c=e.successMsg,a=e.cancel,n=void 0!==a&&a,s=c||t,l=Object(r.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1];return j?"":Object(p.jsx)("div",{children:s&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"alert ",style:{borderRadius:3},children:[Object(p.jsxs)("div",{className:"cancel-parent",children:[Object(p.jsx)("div",{}),Object(p.jsx)("p",{className:"cancel",onClick:function(e){n&&(d(!0),window.location.reload())},children:"x"})]}),Object(p.jsxs)("div",{className:"float",style:{flexDirection:"column",padding:20,alignItems:"center",justifyContent:"center"},children:[t&&Object(p.jsx)("i",{className:"",style:{fontSize:25}}),c&&Object(p.jsx)("i",{className:"fa fa-check-circle success",style:{fontSize:25}}),Object(p.jsx)("h1",{className:"sm",children:s})]})]})})})},m=function(){var e=Object(r.useContext)(h),t=e.getSingleProperty,c=e.loading,a=e.userImage,n=Object(r.useState)(""),s=Object(i.a)(n,2),l=s[0],d=s[1],u=Object(r.useState)(!1),m=Object(i.a)(u,2),f=m[0],g=m[1],y=Object(r.useState)(!1),v=Object(i.a)(y,2),N=v[0],C=v[1],w=Object(r.useState)(!1),k=Object(i.a)(w,2),S=k[0],M=k[1];return f?Object(p.jsx)(O,{msg:"Please Wait...",loading:f,page:c?null:"newly-captured",btnMsg:"View Result"}):N?Object(p.jsx)(x,{errorMsg:"You have not entered a property ID",cancel:!0}):Object(p.jsx)(r.Fragment,{children:Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{className:"header",children:Object(p.jsxs)("div",{className:"header-flex",children:[Object(p.jsxs)("div",{className:"search-input",children:[Object(p.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},className:"short customize-short",placeholder:"Search by Property ID",value:l}),Object(p.jsx)("button",{className:"btn",onClick:function(e){l?(g(!0),t(l)):C(!0)},children:"Search"})]}),Object(p.jsx)("div",{className:"not-parent",children:Object(p.jsxs)("div",{className:"notification",children:[Object(p.jsxs)("button",{className:"sbtn",onClick:function(e){return window.location.reload()},children:[Object(p.jsx)("i",{className:"fa fa-sync",style:{paddingRight:6,fontSize:18,color:"white"}}),"Update Table"]}),Object(p.jsxs)("button",{className:"remove-backs cursor-r",children:[" ",Object(p.jsx)("i",{className:"fa fa-bell",style:{fontSize:20,cursor:"pointer"}})," "]}),Object(p.jsx)("div",{className:"avatar",children:a?Object(p.jsx)("img",{className:"img",src:"http://178.62.124.95:5000/uploads/".concat(a),alt:"Avatar"}):Object(p.jsx)("i",{className:"fa fa-user"})}),Object(p.jsxs)("button",{className:"remove-backs cursor-r",children:[" ",Object(p.jsx)("i",{className:"fa fa-ellipsis-v",style:{fontSize:20,cursor:"pointer"},onClick:function(){return M(!0)}}),S&&Object(p.jsx)("div",{style:{width:"200px",height:"100px",background:"white",padding:20,position:"absolute",right:10,boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(p.jsx)("h4",{style:{textAlign:"left",fontSize:15,fontWeight:"400",textDecoration:"underline",color:"darkblue"},onClick:Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:5000/api/v1/user/login").then((function(e){return console.log(e.data.data)})).catch((function(e){return console.log(e.response.data.error)}));case 2:M(!1);case 3:case"end":return e.stop()}}),e)}))),children:"Logout"})})]})]})})]})})})})},f=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(!1),s=Object(i.a)(n,2),l=s[0],o=s[1],j=Object(r.useState)(!1),d=Object(i.a)(j,2),b=d[0],h=d[1];return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsxs)("div",{className:"side-bar",children:[Object(p.jsx)("h2",{style:{textAlign:"center",marginTop:20},children:"Logo"}),Object(p.jsx)("div",{className:"item",children:Object(p.jsxs)("ul",{className:"ul-parent",children:[Object(p.jsxs)("li",{className:"lis",children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)("i",{className:"fa fa-user fa-big"}),"Customer Enumeration",Object(p.jsx)("span",{className:"arrows",children:c?Object(p.jsx)("i",{className:"fas fa-chevron-up",onClick:function(){return a(!1)}}):Object(p.jsx)("i",{className:"fas fa-chevron-down",onClick:function(){return a(!0)}})})]}),Object(p.jsxs)("ul",{className:c?"ul-child":"ul-child hidden",children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/new-captures",children:"Newly Captured Property"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/update-capture",children:"Updated Property Records"})})]})]}),Object(p.jsxs)("li",{className:"lis",children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)("i",{className:"fa fa-tablet fa-big"})," Metering Installation",Object(p.jsx)("span",{className:"arrows",children:l?Object(p.jsx)("i",{className:"fas fa-chevron-up",onClick:function(){return o(!1)}}):Object(p.jsx)("i",{className:"fas fa-chevron-down",onClick:function(){return o(!0)}})})]}),Object(p.jsxs)("ul",{className:l?"ul-child":"ul-child hidden",children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/drag",children:"Upload Metering Schedule"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/meter-view",children:"View Installed Meter"})})]})]}),Object(p.jsxs)("li",{className:"lis",children:[Object(p.jsxs)("h4",{children:[" ",Object(p.jsx)("i",{className:"fas fa-tachometer-alt fa-big"}),"  Asset Capturing",Object(p.jsx)("span",{className:"arrows",children:b?Object(p.jsx)("i",{className:"fas fa-chevron-up",onClick:function(){return h(!1)}}):Object(p.jsx)("i",{className:"fas fa-chevron-down",onClick:function(){return h(!0)}})})]}),Object(p.jsxs)("ul",{className:b?"ul-child":"ul-child hidden",children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/transformer-views",children:"Captured Transfomer"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"/feeder-views",children:"Captured Feeder"})})]})]})]})})]}),Object(p.jsx)(m,{})]})},g=c(5);var y=function(e){var t=e.title,c=e.name,r=void 0===c?"":c;return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[Object(p.jsx)("h4",{style:{marginBottom:"5px",fontSize:14},children:t}),Object(p.jsx)("input",{type:"text",disabled:!0,onChange:function(e){},value:r})]})})},v=function(e){var t=e.history,c=Object(r.useContext)(h),a=c.singleProperty,n=c.operate,s=a||n;if(console.log(s),!s){return t.push("/"),void window.location.reload()}var i=s.meterAddress,l=s.googleMapCoords,o=s.meterPosition,j=s.region,d=s.serviceCenter,b=s.office,u=s.meterType,O=s.meterNumber,x=s.meterModel,m=s.meterProvider,g=s.meterOwner,v=s.phase;return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsxs)("div",{className:"container-wrapper",children:[Object(p.jsxs)("div",{className:"float",style:{marginTop:20,paddingRight:15},children:[Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Meter Location"}),Object(p.jsx)("button",{className:"btn",style:{background:"#4f4846"},onClick:function(){return t.push("/meter-datas")},children:"Previous"})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Meter Address",name:i}),Object(p.jsx)(y,{title:"Google Map Coords",name:l}),Object(p.jsx)(y,{title:"Meter Position",name:o}),Object(p.jsx)(y,{title:"Region",name:j}),Object(p.jsx)(y,{title:"Area Office",name:b}),Object(p.jsx)(y,{title:"Service Center",name:d})]}),Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Meter Description"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Meter Type",name:u}),Object(p.jsx)(y,{title:"Meter Number",name:O}),Object(p.jsx)(y,{title:"Meter Model",name:x}),Object(p.jsx)(y,{title:"Meter Provider",name:m}),Object(p.jsx)(y,{title:"Meter Owner",name:g}),Object(p.jsx)(y,{title:"Meter Phase",name:v})]})]})]})},N=function(e){var t=e.history,c=Object(r.useState)(!1),a=Object(i.a)(c,2),n=a[0],s=a[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1],b=Object(r.useContext)(h),u=b.singleProperty,O=b.operate,x=u||O;if(!x){return t.push("/"),void window.location.reload()}var m=x.customerName,g=x.contractNumber,v=x.customerPhone,N=x.batchId,C=x.cartonNumber,w=x.meterSeal,k=x.meterCondition,S=x.meterInstallationDate,M=x.installerName,P=x.installerVendor,T=x.installerPhone,A=x.customerAuthentication,I=x.googleMapCoords;return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsxs)("div",{className:"container-wrapper",children:[Object(p.jsxs)("div",{className:"float",style:{marginTop:20,paddingRight:15},children:[Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Customer Information"}),Object(p.jsx)("button",{className:"btn",style:{background:"#4f4846"},onClick:function(){return t.push("/meter-data")},children:"Next"})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Customer Name",name:m}),Object(p.jsx)(y,{title:"Contract Number",name:g}),Object(p.jsx)(y,{title:"Customer Phone No",name:v})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Batch ID",name:N}),Object(p.jsx)(y,{title:"Carton Number",name:C}),Object(p.jsx)(y,{title:"Meter Seal No.",name:w}),Object(p.jsx)(y,{title:"Meter Condition",name:k}),Object(p.jsx)(y,{title:"Meter Installation Date",name:S}),Object(p.jsx)(y,{title:"Customer Authentication",name:A})]}),Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Installer Details"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Installer Name",name:M}),Object(p.jsx)(y,{title:"Installer Vendor",name:P}),Object(p.jsx)(y,{title:"Installer Phone No.",name:T})]}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:[Object(p.jsx)("button",{className:"btn",onClick:function(){return d(!0)},children:"View Before Installation Image"}),Object(p.jsx)("button",{className:"btn",onClick:function(){return s(!0)},children:"View After Installation Image"})]})]}),j&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"img-views",children:[Object(p.jsx)("p",{className:"close",title:"Close",onClick:function(){return d(!1)},children:"x"}),Object(p.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:I}),Object(p.jsx)("img",{src:"http://178.62.124.95:5000/uploads/photo_6091b26a1b629327b878db7e_1620167928863.jpg",alt:"Property Portrait",className:"img-g"})]})}),n&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"img-views",children:[Object(p.jsx)("p",{className:"close",title:"Close",onClick:function(){return s(!1)},children:"x"}),Object(p.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:I}),Object(p.jsx)("img",{src:"http://178.62.124.95:5000/uploads/photo_6091b26a1b629327b878db7e_1620167865914.jpg",alt:"Property Portrait",className:"img-g"})]})})]})},C=function(e){var t=e.history,c=a.a.useContext(h),n=c.singleProperty,s=c.operate,l=n||s,o=Object(r.useState)(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];if(!l){return t.push("/"),void window.location.reload()}var u=l.feederName,O=l.feederRating,x=l.code,m=l.locationCoords,g=l.averageHourlySupply,v=l.region,N=l.office,C=l.feederAddress,w=l.googleMapCoords,k=l.feederImage,S="http://178.62.124.95:5000/uploads/".concat(k);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsxs)("div",{className:"container-wrapper",children:[Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Feeder Information"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Feeder Name",name:u}),Object(p.jsx)(y,{title:"Feeder Rating",name:O}),Object(p.jsx)(y,{title:"Average Houly Supply",name:g}),Object(p.jsx)(y,{title:"Code",name:x})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Asset Address",name:C}),Object(p.jsx)(y,{title:"Google Map Coords",name:w}),Object(p.jsx)(y,{title:"Location Coords",name:m}),Object(p.jsx)(y,{title:"Region",name:v}),Object(p.jsx)(y,{title:"Area Office",name:N})]}),Object(p.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:Object(p.jsx)("button",{className:"btn",onClick:function(){return b(!0)},children:"View Feeder Image"})})]}),d&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"img-views",children:[Object(p.jsx)("p",{className:"close",title:"Close",onClick:function(){return b(!1)},children:"x"}),Object(p.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:"Coords"}),Object(p.jsx)("img",{src:S,alt:"Property Portrait",className:"img-g"})]})})]})},w=function(e){var t=e.history,c=a.a.useContext(h),n=c.singleProperty,s=c.operate,l=n||s,o=Object(r.useState)(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];if(!l){return t.push("/"),void window.location.reload()}var u=l.transformerName,O=l.transformerOwner,x=l.transformerRating,m=l.transformerCapacity,g=l.code,v=l.averageHourlySupply,N=l.inpedentLoss,C=l.region,w=l.office,k=l.serviceCenter,S=l.transformerAddress,M=l.googleMapCoords,P=l.dtType,T=l.dtMeterNo,A=l.connectionType,I=l.cappedUnit,R=l.feederName,E=l.bandDescription,B=l.transformerImage,D="http://178.62.124.95:5000/uploads/".concat(B);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsxs)("div",{className:"container-wrapper",children:[Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Transformer Information"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Transformer Name",name:u}),Object(p.jsx)(y,{title:"Transformer Owner",name:O}),Object(p.jsx)(y,{title:"Transformer Rating",name:x}),Object(p.jsx)(y,{title:"Transformer Capacity",name:m}),Object(p.jsx)(y,{title:"% of Inpedant Loss",name:N}),Object(p.jsx)(y,{title:"Average Houly Supply",name:v})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Asset Address",name:S}),Object(p.jsx)(y,{title:"Google Map Coords",name:M}),Object(p.jsx)(y,{title:"Location Coords",name:E}),Object(p.jsx)(y,{title:"Region",name:C}),Object(p.jsx)(y,{title:"Area Office",name:w}),Object(p.jsx)(y,{title:"Service Center",name:k}),Object(p.jsx)(y,{title:"Code",name:g}),Object(p.jsx)(y,{title:"Supply Feeder Name",name:R}),Object(p.jsx)(y,{title:"Capped Unit",name:I})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Connection Type",name:A}),Object(p.jsx)(y,{title:"DT Type",name:P}),Object(p.jsx)(y,{title:"DT Meter No",name:T})]}),Object(p.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:Object(p.jsx)("button",{className:"btn",onClick:function(){return b(!0)},children:"View Transformer Image"})})]}),d&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"img-views",children:[Object(p.jsx)("p",{className:"close",title:"Close",onClick:function(){return b(!1)},children:"x"}),Object(p.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:M}),Object(p.jsx)("img",{src:D,alt:"Property Portrait",className:"img-g"})]})})]})},k=function(e){var t=e.history,c=Object(r.useContext)(h),a=c.singleProperty,n=c.operate,s=a||n,l=Object(r.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1],b=Object(r.useState)(!1),u=Object(i.a)(b,2),O=u[0],x=u[1];if(!s){return t.push("/"),void window.location.reload()}var m=s.googleMapCoords,g=s.locationCoords,v=s.buildingAddress,N=s.route,C=s.itinerary,w=s.serviceCenter,k=s.volt,S=s.distanceFromSubstation,M=s.buildingType,P=s.buildingUse,T=s.buildingActivity,A=s.bookCode,I=s.feederName,R=s.phase,E=s.region,B=s.office,D=s.connectionType,L=s.poleNumber,F=s.transformerName,G=s.areaType,V=s.occupantName,U=s.occupantRole,z=s.propertyId,H=s.propertyOwnerName,W=s.propertyServicePointImage,Y=s.propertyImage,_="http://178.62.124.95:5000/uploads/".concat(Y),J="http://178.62.124.95:5000/uploads/".concat(W);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsxs)("div",{className:"container-wrapper",children:[Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Property Description"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Occupant Name",name:V}),Object(p.jsx)(y,{title:"Occupant Role",name:U}),Object(p.jsx)(y,{title:"Property Owner Name",name:H}),Object(p.jsx)(y,{title:"Building Type",name:M}),Object(p.jsx)(y,{title:"Building Activity",name:T}),Object(p.jsx)(y,{title:"Building Use",name:P})]}),Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Property Location"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Building Address",name:v}),Object(p.jsx)(y,{title:"Google Map Coords",name:m}),Object(p.jsx)(y,{title:"Location Coords",name:g}),Object(p.jsx)(y,{title:"Region",name:E}),Object(p.jsx)(y,{title:"Area Office",name:B}),Object(p.jsx)(y,{title:"Service Center",name:w}),Object(p.jsx)(y,{title:"Route",name:N}),Object(p.jsx)(y,{title:"Itinerary",name:C}),Object(p.jsx)(y,{title:"Property Id",name:z})]}),Object(p.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Network Description"}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Connection Type",name:D}),Object(p.jsx)(y,{title:"Supply Transformer",name:F}),Object(p.jsx)(y,{title:"Premises Distance from S/S",name:S}),Object(p.jsx)(y,{title:"Pole Number",name:L}),Object(p.jsx)(y,{title:"Volt",name:k}),Object(p.jsx)(y,{title:"Phase",name:R})]}),Object(p.jsxs)("div",{className:"grid-3 white-back",children:[Object(p.jsx)(y,{title:"Book Code",name:A}),Object(p.jsx)(y,{title:"Feeder Name",name:I}),Object(p.jsx)(y,{title:"Area Type",name:G})]}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:[Object(p.jsx)("button",{className:"btn",onClick:function(){return x(!0)},children:"View Property Image"}),Object(p.jsx)("button",{className:"btn",onClick:function(){return d(!0)},children:"View Service Point Image"})]})]}),O&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"img-views",children:[Object(p.jsx)("p",{className:"close",title:"Close",onClick:function(){return x(!1)},children:"x"}),Object(p.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:"Coords"}),Object(p.jsx)("img",{src:_,alt:"Property Portrait",className:"img-g"})]})}),j&&Object(p.jsx)("div",{className:"absolutes",children:Object(p.jsxs)("div",{className:"img-views",children:[Object(p.jsx)("p",{className:"close",title:"Close",onClick:function(){return d(!1)},children:"x"}),Object(p.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:"Coords"}),Object(p.jsx)("img",{src:J,alt:"Property Portrait",className:"img-g"})]})})]})},S=c(3),M=c(13),P=(new Date).toLocaleTimeString(),T=function(e){return{headers:[{label:"Property Id",key:"propertyId"},{label:"Occupant Name",key:"occupantName"},{label:"Customer Contact",key:"occupantRole"},{label:"Occupant Contact",key:"occupantContact"},{label:"Property Owner Name",key:"propertyOwnerName"},{label:"Property Owner Contact",key:"propertyOwnerContact"},{label:"Building Type",key:"buildingType"},{label:"Building Activity",key:"buildingActivity"},{label:"Building Use",key:"buildingUse"},{label:"Building Address",key:"buildingAddress"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Route",key:"route"},{label:"Itinerary",key:"itinerary"},{label:"Phase",key:"phase"},{label:"Pole Number",key:"poleNumber"},{label:"Need Pole",key:"needPole"},{label:"Area Type",key:"areaType"},{label:"Connection Posible",key:"connectionPosible"},{label:"Connection Type",key:"areaType"},{label:"Enumeration Status",key:"enumerationStatus"},{label:"Volt",key:"volt"},{label:"Region",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center",key:"serviceCenter"},{label:"Area Code",key:"areaCode"},{label:"Network Type",key:"networkType"},{label:"requestType",key:"requestType"}],fname:"Properties".concat(P,".csv")}},A=function(e,t,c,r){var a=Object.keys(e);return{filename:r,headers:c,data:t.map((function(e){var t={};return a.forEach((function(c,r){t["".concat(c)]=Object.values(e)[r]})),t}))}};var I=function(e){var t=e.history,c=a.a.useContext(h),r=c.getFeeder,n=c.feeder,s=c.createOperating,l=c.errors,o=a.a.useState(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),a.a.useEffect((function(){b(!0),r()}),[]);var u=function(e){s(n[e.target.name]),t.push("/feeder-captured")};if(console.log(l),null===n)return Object(p.jsx)(O,{msg:"Please Wait...",loading:d,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var x={headers:[{label:"Feeder Code",key:"code"},{label:"Feeder Name",key:"feederName"},{label:"Feeder Address",key:"feederAddress"},{label:"Feeder Rating",key:"feederRating"},{label:"Average Hourly Supply",key:"averageHourlySupply"},{label:"Location Coordinate",key:"locationCoords"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Region.",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center",key:"serviceCenter"}],fname:"fdr".concat(P,".csv")},m=A(n[0],n,x.headers,x.fname);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsxs)("div",{className:"new-capture",children:[Object(p.jsx)("h2",{style:{marginBottom:5},children:"Captured Feeder"}),Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Code"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Address"}),Object(p.jsx)("th",{children:"Capacity"}),Object(p.jsx)("th",{children:"Hourly Supply"}),Object(p.jsx)("th",{children:"Google Map Coords"}),Object(p.jsx)("th",{children:"Office"}),Object(p.jsx)("th",{children:"More"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.code}),Object(p.jsx)("td",{children:e.feederName}),Object(p.jsx)("td",{children:e.feederAddress}),Object(p.jsx)("td",{children:e.feederCapacity}),Object(p.jsx)("td",{children:e.averageHourlySupply}),Object(p.jsx)("td",{children:e.googleMapCoords}),Object(p.jsx)("td",{children:e.office}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"stx",name:t,onClick:u,children:" View "})})]},t)}))})]}),Object(p.jsx)("div",{style:{marginTop:20},children:Object(p.jsxs)(M.CSVLink,Object(S.a)(Object(S.a)({className:"btn"},m),{},{children:[" Download",Object(p.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})};var R=function(e){var t=e.history,c=a.a.useContext(h),r=c.getTransformer,n=c.transformer,s=c.createOperating,l=c.errors,o=a.a.useState(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),a.a.useEffect((function(){b(!0),r()}),[]);var u=function(e){s(n[e.target.name]),t.push("/trans-captured")};if(null===n)return Object(p.jsx)(O,{msg:"Please Wait...",loading:d,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var x={headers:[{label:"Transformer Code",key:"code"},{label:"Transformer Name",key:"transformerName"},{label:"Transformer Rating",key:"transformerRating"},{label:"Transformer Capacity",key:"transformerCapacity"},{label:"Connection Type",key:"connectionType"},{label:"DT Type",key:"dtType"},{label:"DT Meter No",key:"dtMeterNo"},{label:"Average Hourly Supply",key:"averageHourlySupply"},{label:"Capped Unit",key:"cappedUnit"},{label:"Tariff Band Classification",key:"bandDescription"},{label:"Inpedant Loss",key:"inpedantLoss"},{label:"Supply Feeder Name",key:"feederName"},{label:"Location Coordinate",key:"locationCoords"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Region.",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center Authenticate",key:"serviceCenter"}],fname:"tfr".concat(P,".csv")},m=A(n[0],n,x.headers,x.fname);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsxs)("div",{className:"new-capture",children:[Object(p.jsx)("h2",{style:{marginBottom:5},children:"Captured Transformer"}),Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Code"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Rating"}),Object(p.jsx)("th",{children:"Capacity"}),Object(p.jsx)("th",{children:"Loss (%)"}),Object(p.jsx)("th",{children:"Hourly Supply"}),Object(p.jsx)("th",{children:"Coordinate"}),Object(p.jsx)("th",{children:"Center"}),Object(p.jsx)("th",{children:"More"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.code}),Object(p.jsx)("td",{children:e.transformerName}),Object(p.jsx)("td",{children:e.transformerRating}),Object(p.jsx)("td",{children:e.transformerCapacity}),Object(p.jsx)("td",{children:e.inpedentLoss}),Object(p.jsx)("td",{children:e.averageHourlySupply}),Object(p.jsx)("td",{children:e.googleMapCoords}),Object(p.jsx)("td",{children:e.serviceCenter}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"stx",name:t,onClick:u,children:" View "})})]},t)}))})]}),Object(p.jsx)("div",{style:{marginTop:20},children:Object(p.jsxs)(M.CSVLink,Object(S.a)(Object(S.a)({className:"btn"},m),{},{children:[" Download",Object(p.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})};var E=function(e){var t=e.history,c=Object(r.useContext)(h),a=c.getProperties,n=c.properties,s=c.createOperating,l=c.errors,o=Object(r.useState)(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),Object(r.useEffect)((function(){b(!0),a("enumerationStatus=Existing")}),[]);var u=function(e){s(n[e.target.name]),t.push("/newly-captured")};if(null===n)return Object(p.jsx)(O,{msg:"Please Wait...",loading:d,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var x=T(),m=A(n[0],n,x.headers,x.fname);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsxs)("div",{className:"new-capture",children:[Object(p.jsx)("h2",{style:{marginBottom:5},children:"Updated Property Records"}),Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Property ID"}),Object(p.jsx)("th",{className:"th-wide",children:"Account Name"}),Object(p.jsx)("th",{children:"Contract No."}),Object(p.jsx)("th",{children:"Building Activity"}),Object(p.jsx)("th",{children:"Building Use"}),Object(p.jsx)("th",{className:"th-wide",children:"Building Address"}),Object(p.jsx)("th",{children:"Coordinate"}),Object(p.jsx)("th",{children:"Region"}),Object(p.jsx)("th",{children:"Business Unit"}),Object(p.jsx)("th",{children:"Business Center"}),Object(p.jsx)("th",{children:"More"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.propertyId}),Object(p.jsx)("td",{children:e.occupantName}),Object(p.jsx)("td",{children:e.buildingType}),Object(p.jsx)("td",{children:e.buildingActivity}),Object(p.jsx)("td",{children:e.buildingUse}),Object(p.jsx)("td",{children:e.buildingAddress}),Object(p.jsx)("td",{children:e.googleMapCoords}),Object(p.jsx)("td",{children:e.region}),Object(p.jsx)("td",{children:e.office}),Object(p.jsx)("td",{children:e.serviceCenter}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"stx",name:t,onClick:u,children:" View "})})]},t)}))})]}),Object(p.jsx)("div",{style:{marginTop:20},children:Object(p.jsxs)(M.CSVLink,Object(S.a)(Object(S.a)({className:"btn"},m),{},{children:[" Download",Object(p.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})},B=c(38),D=c(37);var L=function(e){var t=e.history,c=a.a.useContext(h).errors,n=Object(r.useState)(!1),s=Object(i.a)(n,2),l=s[0],d=s[1],u=Object(r.useState)(null),m=Object(i.a)(u,2),g=m[0],y=m[1],v=Object(r.useState)({progress:!1,cancel:!1,btMsg:null,successMsg:null,errorMsg:null}),N=Object(i.a)(v,2),C=N[0],w=N[1];"No signature! Access denied"===c&&(t.push("/"),window.location.reload());var k=C.progress,M=C.cancel,P=C.btMsg,T=C.successMsg,A=C.errorMsg;return Object(r.useEffect)((function(){g&&!T&&Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("http://localhost:5000/api/v1/metering/schedule",g,{headers:{"Content-Type":"application/json"}}).then((function(e){w({successMsg:e.data.data,cancel:!0,btMsg:"Proceed"})})).catch((function(e){return w({errorMsg:e.response.data.error,cancel:!0})}));case 2:case"end":return e.stop()}}),e)})))()}),[g]),k?Object(p.jsx)(O,{msg:"Hold on while we upload your Metering Schedule file",btnMsg:P,loading:!0,icon:"fa fa-chevron-right",page:"meter-data",response:T||""}):T||A?Object(p.jsx)(x,{errorMsg:A,successMsg:T,cancel:M}):Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{className:"grid-center",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{style:{marginBottom:10,textAlign:"center"},children:"Make sure you upload a CSV file"}),Object(p.jsx)("div",{className:"drag-n-drop notification ".concat(l?"highlighted":""),onDragOver:function(e){e.preventDefault(),d(!0)},onDrop:function(e){e.preventDefault(),d(!1),w(Object(S.a)(Object(S.a)({},C),{},{progress:!0}));var t=e.dataTransfer.files;Array.from(t).filter((function(e){return"application/vnd.ms-excel"===e.type})).forEach(function(){var e=Object(j.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:c=e.sent,r=Object(D.parse)(c,{header:!0}),y(Object(B.a)(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onDragLeave:function(){return d(!1)},children:Object(p.jsx)("h2",{style:{color:"#ccc"},children:"Drag & Drop Metering Schedule here"})})]})})})]})};var F=function(e){var t=e.history,c=Object(r.useContext)(h),a=c.getMeteringDetail,n=c.metering,s=c.createOperating,l=c.errors,o=Object(r.useState)(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),Object(r.useEffect)((function(){b(!0),a()}),[]);var u=function(e){s(n[e.target.name]),t.push("/meter-data")};if(null===n)return Object(p.jsx)(O,{msg:"Please Wait...",loading:d,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var x={headers:[{label:"Property Id",key:"propertyId"},{label:"Contract Number",key:"contractNumber"},{label:"Customer Name",key:"customerName"},{label:"Customer Contact",key:"customerPhone"},{label:"Meter Number",key:"meterNumber"},{label:"Meter Type",key:"meterType"},{label:"Meter Model",key:"meterModel"},{label:"Meter Provider",key:"meterProvider"},{label:"Meter Owner",key:"meterOwner"},{label:"Meter Seal",key:"meterSeal"},{label:"Meter Batch",key:"batchId"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Meter Address",key:"meterAddress"},{label:"Meter Position",key:"meterCondition"},{label:"Meter Phase",key:"phase"},{label:"Carton Number",key:"cartonNumber"},{label:"Meter Installation Date",key:"meterInstallationDate"},{label:"Installer Name",key:"installerName"},{label:"Installer Vendor",key:"installerVendor"},{label:"Installer Phone No.",key:"installerPhone"},{label:"Connection Type",key:"connectionType"},{label:"Customer Authenticate",key:"customerAuthenticate"},{label:"Region.",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center Authenticate",key:"serviceCenter"}],fname:"metered".concat(P,".csv")},m=A(n[0],n,x.headers,x.fname);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsxs)("div",{className:"new-capture",children:[Object(p.jsx)("h2",{style:{marginBottom:5,float:"left"},children:"Meter Installation Status"}),Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Batch ID"}),Object(p.jsx)("th",{className:"th-wide",children:"Contract Name"}),Object(p.jsx)("th",{children:"Contract No."}),Object(p.jsx)("th",{className:"th-wide",children:"Building Address"}),Object(p.jsx)("th",{children:"Phone No."}),Object(p.jsx)("th",{children:"Phase Type"}),Object(p.jsx)("th",{children:"Area Office"}),Object(p.jsx)("th",{children:"Center"}),Object(p.jsx)("th",{children:"Vendor"}),Object(p.jsx)("th",{children:"Installer"}),Object(p.jsx)("th",{children:"More"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.batchId}),Object(p.jsx)("td",{children:e.customerName}),Object(p.jsx)("td",{children:e.contractNumber}),Object(p.jsx)("td",{children:e.meterAddress}),Object(p.jsx)("td",{children:e.customerPhase}),Object(p.jsx)("td",{children:e.phase}),Object(p.jsx)("td",{children:e.googleMapCoords}),Object(p.jsx)("td",{children:e.region}),Object(p.jsx)("td",{children:e.office}),Object(p.jsx)("td",{children:e.installerName}),Object(p.jsx)("td",{children:Object(p.jsxs)("button",{className:"stx",onClick:u,style:{background:"#f2f2f2"},name:t,children:[!0===e.installationStatus?Object(p.jsx)("i",{className:" fa fa-check-circle success",style:{marginRight:2}}):Object(p.jsx)("i",{className:"fa fa-times-circle danger",style:{marginRight:2}}),!1===e.installationStatus?"Installed":"Pending"]})})]},t)}))})]}),Object(p.jsx)("div",{style:{marginTop:20},children:Object(p.jsxs)(M.CSVLink,Object(S.a)(Object(S.a)({className:"btn"},m),{},{children:[" Download",Object(p.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})};var G=function(e){var t=e.history,c=Object(r.useContext)(h),a=c.getProperties,n=c.properties,s=c.createOperating,l=c.errors,o=Object(r.useState)(!1),j=Object(i.a)(o,2),d=j[0],b=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),Object(r.useEffect)((function(){b(!0),a("enumerationStatus=New")}),[]);var u=function(e){s(n[e.target.name]),t.push("/newly-captured")};if(console.log(l),null===n)return Object(p.jsx)(O,{msg:"Please Wait...",loading:d,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var x=T(),m=A(n[0],n,x.headers,x.fname);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"container-wrapper",children:Object(p.jsxs)("div",{className:"new-capture",children:[Object(p.jsx)("h2",{style:{marginBottom:5},children:"Newly Captured Property"}),Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Property ID"}),Object(p.jsx)("th",{className:"th-wide",children:"Occupant Name"}),Object(p.jsx)("th",{children:"Building Type"}),Object(p.jsx)("th",{children:"Building Activity"}),Object(p.jsx)("th",{children:"Building Use"}),Object(p.jsx)("th",{className:"th-wide",children:"Building Address"}),Object(p.jsx)("th",{children:"Coordinate"}),Object(p.jsx)("th",{children:"Region"}),Object(p.jsx)("th",{children:"Business Unit"}),Object(p.jsx)("th",{children:"Business Center"}),Object(p.jsx)("th",{children:"More"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.propertyId}),Object(p.jsx)("td",{children:e.occupantName}),Object(p.jsx)("td",{children:e.buildingType}),Object(p.jsx)("td",{children:e.buildingActivity}),Object(p.jsx)("td",{children:e.buildingUse}),Object(p.jsx)("td",{children:e.buildingAddress}),Object(p.jsx)("td",{children:e.googleMapCoords}),Object(p.jsx)("td",{children:e.region}),Object(p.jsx)("td",{children:e.office}),Object(p.jsx)("td",{children:e.serviceCenter}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"stx",name:t,onClick:u,children:" View "})})]},t)}))})]}),Object(p.jsx)("div",{style:{marginTop:20},children:Object(p.jsxs)(M.CSVLink,Object(S.a)(Object(S.a)({className:"btn"},m),{},{children:[" Download",Object(p.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})},V="GETPROPERTY",U="GETPROPERTYFAIL",z="SINGLEPROPERTY",H="SINGLEPROPERTYFAIL",W="OPERATING",Y="CLEARERRORS",_="CLEARSUCCESSMSG",J="UPDATEPROPERTY",q="UPDATEPROPERTY",K="GETMETERINGDETAIL",Q="GETMETERINGDETAILFAIL",X="GETTRANSFORMER",Z="GETTRANSFORMERFAIL",$="GETFEEDER",ee="GETFEEDERFAIL",te="LOGIN",ce="LOGINFAIL",re=function(e,t){switch(t.type){case V:return Object(S.a)(Object(S.a)({},e),{},{properties:t.payload,loading:!1});case z:return Object(S.a)(Object(S.a)({},e),{},{singleProperty:t.payload,loading:!1});case W:return Object(S.a)(Object(S.a)({},e),{},{operate:t.payload});case J:return Object(S.a)(Object(S.a)({},e),{},{successMsg:t.payload});case K:return Object(S.a)(Object(S.a)({},e),{},{metering:t.payload,loading:!1});case X:return Object(S.a)(Object(S.a)({},e),{},{transformer:t.payload,loading:!1});case $:return Object(S.a)(Object(S.a)({},e),{},{feeder:t.payload,loading:!1});case _:return Object(S.a)(Object(S.a)({},e),{},{successMsg:null,loading:!0});case U:case H:case q:case Q:case Z:case ee:case ce:return Object(S.a)(Object(S.a)({},e),{},{errors:t.payload});case Y:return Object(S.a)(Object(S.a)({},e),{},{errors:null});case te:return Object(S.a)(Object(S.a)({},e),{},{login:t.payload,loading:!1});default:return e}},ae=function(e){e?b.a.defaults.headers.authorization="Bearer ".concat(e):delete b.a.defaults.headers.authorization},ne=function(e){var t=e.children,c="http://localhost:5000/api/v1",a=Object(r.useReducer)(re,{properties:null,singleProperty:null,metering:null,operate:null,successMsg:null,loading:!0,errors:null,transformer:null,feeder:null,login:null}),n=Object(i.a)(a,2),s=n[0],l=n[1],d=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&ae(localStorage.token),e.next=3,b.a.get("".concat(c,"/property/").concat(t)).then((function(e){return l({type:z,payload:e.data.data})})).catch((function(e){l({type:H,payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(c,"/property?").concat(t)).then((function(e){return l({type:V,payload:e.data.data})})).catch((function(e){l({type:U,payload:e.response.data.error})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(c,"/property?").concat(t),r,{headers:{"Content-Type":"application/json"}}).then((function(e){return l({type:J,payload:e.data.data})})).catch((function(e){l({type:q,payload:e.response.data.error})}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),x=function(e){return l({type:Y})},m=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===t?"":t,e.next=3,b.a.get("".concat(c,"/metering?").concat(r)).then((function(e){return l({type:K,payload:e.data.data})})).catch((function(e){l({type:Q,payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===t?"":t,e.next=3,b.a.get("".concat(c,"/transformer?").concat(r)).then((function(e){return l({type:X,payload:e.data.data})})).catch((function(e){l({type:Z,payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===t?"":t,e.next=3,b.a.get("".concat(c,"/feeder?").concat(r)).then((function(e){return l({type:$,payload:e.data.data})})).catch((function(e){l({type:ee,payload:e.response.data.error}),setTimeout(x,6e3)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(h.Provider,{value:{properties:s.properties,singleProperty:s.singleProperty,loading:s.loading,successMsg:s.successMsg,operate:s.operate,metering:s.metering,transformer:s.transformer,feeder:s.feeder,errors:s.errors,login:s.login,getFeeder:g,getTransformer:f,getMeteringDetail:m,getSingleProperty:d,getProperties:u,UpdateProperty:O,clearErrors:x,clearSucessMsg:function(e){return l({type:_})},createOperating:function(e){return l({type:W,payload:e})},loggedOrNot:function(e){return l({type:te,payload:e})},loggedError:function(e){return l({type:ce,payload:e})}},children:t})},se=c(19),ie=function(e){var t=a.a.useContext(h).loggedError,c=a.a.useState({password:"",email:""}),r=Object(i.a)(c,2),n=r[0],s=r[1],l=a.a.useState(!1),d=Object(i.a)(l,2),u=d[0],O=d[1];a.a.useEffect((function(){}),[]);var x=n.password,m=n.email,f=function(e){return s(Object(S.a)(Object(S.a)({},n),{},Object(se.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(j.a)(o.a.mark((function e(c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!x||!m){e.next=7;break}return O(!0),e.next=5,b.a.post("http://localhost:5000/api/v1/user/login",{password:x,email:m},{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token",JSON.stringify(e.data.data)),window.location.reload()})).catch((function(e){t(e.response.data.error),alert(e.response.data.error),O(!1)}));case 5:e.next=8;break;case 7:alert("Password & email address cannot be empty");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return localStorage.token?"":Object(p.jsx)("div",{className:"absolutes",style:{background:"#f2f2f2"},children:Object(p.jsxs)("form",{className:"card",style:{width:"400px"},children:[Object(p.jsx)("h3",{style:{marginTop:10,marginBottom:30,textAlign:"center"},children:"Sign In"}),Object(p.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",onChange:f}),Object(p.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",onChange:f}),Object(p.jsxs)("button",{className:"btn float",style:{width:"100%",marginTop:10,marginBottom:5,justifyContent:"center"},onClick:g,children:[u&&Object(p.jsx)("div",{className:"spinner",style:{marginRight:10}}),"Login"]})]})})},le=function(){return Object(p.jsx)(ne,{children:Object(p.jsx)(u.a,{children:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(ie,{}),Object(p.jsx)(x,{}),Object(p.jsxs)(g.c,{children:[Object(p.jsx)(g.a,{exact:!0,path:"/",component:f}),Object(p.jsx)(g.a,{exact:!0,path:"/drag",component:L}),Object(p.jsx)(g.a,{exact:!0,path:"/new-captures",component:G}),Object(p.jsx)(g.a,{exact:!0,path:"/update-capture",component:E}),Object(p.jsx)(g.a,{exact:!0,path:"/meter-view",component:F}),Object(p.jsx)(g.a,{exact:!0,path:"/transformer-views",component:R}),Object(p.jsx)(g.a,{exact:!0,path:"/feeder-views",component:I}),Object(p.jsx)(g.a,{exact:!0,path:"/newly-captured",component:k}),Object(p.jsx)(g.a,{exact:!0,path:"/trans-captured",component:w}),Object(p.jsx)(g.a,{exact:!0,path:"/feeder-captured",component:C}),Object(p.jsx)(g.a,{exact:!0,path:"/meter-datas",component:N}),Object(p.jsx)(g.a,{exact:!0,path:"/meter-data",component:v}),Object(p.jsx)(g.a,{exact:!0,path:"/no-where",component:O})]})]})})})};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(le,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.dd274f00.chunk.js.map